# config.yaml - ePost automation settings
epost:
  # 기본 스크립트 설정 (공통): 브라우저/경로/타임아웃/로그인/팝업 등
  script:
    # URL 주소 설정
    urls:
      login: "https://www.epost.go.kr/usr/login/cafzc008k01.jsp?s_url=https://www.epost.go.kr"
      parcel_reservation: "https://parcel.epost.go.kr/general.RetrieveGeneralNewGubunLogin.parcel"

    # 로그인 자격증명
    credentials:
      username: "fg0015"
      password: "dmlduf1308!"

    # 브라우저 옵션 (headless: false = 창 보임, true = 백그라운드 실행)
    browser:
      headless: true
      args:
        - "--disable-notifications"
        - "--disable-features=BlockInsecurePrivateNetworkRequests"

    # 타임아웃 시간 설정 (밀리초)
    timeouts_ms:
      page_stabilize: 3000
      login_wait: 15000
      popup: 10000
      action: 2000

    # 파일/폴더 경로
    paths:
      progress_dir: "progress"
      failure_screenshot_prefix: "post_test_failure"

    # 로그인 셀렉터 및 대화상자 처리
    login:
      modal_selector: "#nppfs-loading-modal"
      id_selectors:
        - "input[name='id']"
        - "#id"
        - "input[title*='아이디']"
        - "input[name='user_id']"
      password_selectors:
        - "input[name='passwd']"
        - "#passwd"
        - "input[title*='비밀번호']"
        - "input[name='user_pwd']"
      accept_dialog_contains:
        - "현재 접속"
        - "기존 접속"

    # 팝업 창 처리
    popups:
      close_url_contains:
        - "main.retrieveMainPopupDetail.comm"

  # 로그인 이후 작업(Working process): 접수/주소/수취인/결제/수동 단계 등
  working_process:
    # 택배 신청 정보
    parcel:
      agree_checkbox_text: "우편금지물품"
      wish_receipt_date: "2025-12-31"
      wish_receipt_time: "09:00~11:00"
      pickup_keep_code: "05"
      pickup_keep_note: "문 앞에 있어요"
      weight_code: "11"
      volume_code: "80"
      product_code: "023"

    # 주소 검색 팝업 설정
    address_popup:
      trigger_onclick_contains: "newRePostNum"
      trigger_text_contains: "주소찾기"
      keyword_selector: 'input[name="keyword"]'
      keyword: "향군로 74번길 26"
      search_button_selectors:
        - 'button[type="button"]'
        - 'button[type="submit"]'
        - 'input[type="button"]'
      search_button_text_contains:
        - "검색"
        - "찾기"
        - "주소검색"
      result_text_contains: "향군로74번길 26"
      building: "103"
      unit: "912"
      submit_text_contains: "입력"

    # 주소록 관련
    address_book:
      search_text: "주소록 검색"
      confirm_text: "확인"
      empty_text_contains:
        - "주소록이 없습니다"
        - "등록된 주소록이 없습니다"

    # 수취인 정보
    recipient:
      use_address_book: true
      name: "육지연"
      address_book_group_value: "0"
      phone:
        mobile: ["010", "0000", "0000"]
      detail_address: "103동 912호"

    # 결제 카드 정보
    payment:
      card_numbers: ["1234", "1234", "1234", "1234"]
      expiry: ["11", "11"]
      password_digits: ["1", "1"]
      birthdate: "111111"
